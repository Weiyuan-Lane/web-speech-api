(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[901],{4354:function(e,t,n){Promise.resolve().then(n.bind(n,590))},590:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return b}});var i=n(7437),a=n(807),o=n(2265),s=n(5301),d=n(6147),r=n(4013),c=n(8350),l=n(7571),u=n(7404),h=n(5389),p=n(5002),f=n(8444),x=n(8826),m=n(7572),w=n(5233),g=(0,n(4630).Z)((0,i.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m4 14H8V8h8z"}),"StopCircle"),j=n(7648),S=n(5475);function v(e){return(0,i.jsx)(x.Z,{...e})}function b(){let e=(0,S.useSearchParams)().get("q"),[t,n]=(0,o.useState)(e||""),[x,b]=(0,o.useState)(!1),[y,C]=(0,o.useState)(0),[z,k]=(0,o.useState)(),[R,E]=(0,o.useState)(!1),[M,Z]=(0,o.useState)("");(0,o.useEffect)(()=>()=>{z&&z.stop()},[z]);let I=()=>{let e=0;k((0,a.$7)(n=>{let i=n.replace(/^\s+|\s+$/g,"");if("stop"===i){b(!1);return}let a=RegExp("\\b".concat(t,"\\b"),"gi"),o=n.match(a);C(e+=o?o.length:0),Z('You said: "'.concat(i.replace(/^\s+|\s+$/g,""),'"')),E(!0)},()=>{},!0))};return(0,i.jsx)("div",{children:(0,i.jsxs)("main",{children:[(0,i.jsx)(s.default,{sx:{mx:"auto",paddingTop:"25px",paddingLeft:"10px",paddingRight:"10px",width:"100%","@media (min-width: 769px)":{width:"80%"},"@media (min-width: 1025px)":{width:"60%"},"@media (min-width: 1201px)":{width:"40%"}},children:(0,i.jsxs)(d.default,{container:!0,rowSpacing:1,children:[(0,i.jsx)(d.default,{size:12,children:(0,i.jsx)(r.default,{startIcon:(0,i.jsx)(m.Z,{}),children:(0,i.jsx)(j.default,{href:"/",children:"Home"})})}),(0,i.jsx)(d.default,{size:12,children:(0,i.jsx)(c.default,{style:{paddingTop:"30px",paddingBottom:"30px"},children:(0,i.jsx)(l.default,{label:"Speech Recognition"})})}),(0,i.jsx)(d.default,{size:12,children:(0,i.jsx)(u.Z,{fullWidth:!0,label:"Text to count from Mic",value:t,disabled:x,onChange:e=>{n(e.target.value),C(0)}})}),(0,i.jsxs)(d.default,{container:!0,size:12,spacing:3,children:[(0,i.jsx)(d.default,{size:6,children:(0,i.jsx)(r.default,{variant:"contained",fullWidth:!0,startIcon:(0,i.jsx)(w.Z,{}),disabled:!t||x,onClick:()=>{x||(C(0),b(!0),I())},children:"Start Count"})}),(0,i.jsx)(d.default,{size:6,children:(0,i.jsx)(r.default,{variant:"outlined",fullWidth:!0,color:"error",startIcon:(0,i.jsx)(g,{}),disabled:!x,onClick:()=>{z&&(z.stop(),k(void 0)),x&&b(!1)},children:"Stop"})})]}),(0,i.jsx)(d.default,{size:12,children:(0,i.jsx)(c.default,{style:{paddingTop:"30px",paddingBottom:"30px"},children:(0,i.jsx)(l.default,{label:"Output"})})}),x&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(d.default,{container:!0,size:12,spacing:1,children:[(0,i.jsx)(d.default,{size:5,container:!0,justifyContent:"flex-end",children:(0,i.jsx)(h.Z,{})}),(0,i.jsx)(d.default,{size:7,container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",children:"It's counting. Say something!"})]}),(0,i.jsx)(d.default,{size:12,children:(0,i.jsx)(c.default,{style:{paddingBottom:"30px",marginBottom:"30px"}})})]}),(x||y>0)&&(0,i.jsx)(d.default,{container:!0,size:12,spacing:1,direction:"row",justifyContent:"flex-start",alignItems:"center",children:(0,i.jsxs)(p.default,{variant:"body1",sx:{color:"text.secondary"},style:{width:"100%",textAlign:"center"},children:["The word ",(0,i.jsxs)("b",{children:["'",t,"'"]})," was said ",(0,i.jsx)("b",{children:y})," times."]})})]})}),(0,i.jsx)(f.Z,{open:R,onClose:()=>{E(!1)},TransitionComponent:v,message:M,autoHideDuration:1200},v.name)]})})}},807:function(e,t,n){"use strict";let i,a;function o(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=new i;return a.continuous=n,a.interimResults=!1,a.maxAlternatives=1,a.onresult=t=>{let n=t.results.length-1,{transcript:i,confidence:a}=t.results[n][0];e(i,a)},a.onspeechend=()=>{t()},a.start(),a}function s(){return void 0===a?[]:Array.from(new Set(a.getVoices().map(e=>e.lang)))}function d(e){return void 0===a?[]:Array.from(new Set(a.getVoices().filter(t=>t.lang===e).map(e=>e.name)))}function r(e){let t=function(e){let{text:t,language:n,voice:i,pitch:o,rate:s,volume:d}=e,r=new SpeechSynthesisUtterance(t);r.pitch=o,r.rate=s,r.volume=d;let c=a.getVoices().find(e=>e.lang===n&&e.name===i);return c&&(r.voice=c),r}(e);a.speak(t)}async function c(e){let t,{video:n=!1,systemMedia:i=!0}=e;console.log("video: "+n,"systemMedia: "+i);let a=i?await navigator.mediaDevices.getDisplayMedia({audio:!0,video:!!n||void 0}):await navigator.mediaDevices.getUserMedia({audio:!0,video:!!n||void 0}),o=[];if(n)t=new MediaRecorder(a);else{let e=new window.AudioContext,n=e.createMediaStreamSource(a),i=e.createMediaStreamDestination();n.connect(i),t=new MediaRecorder(i.stream)}return t.ondataavailable=e=>{o.push(e.data)},t.onstop=()=>{let e=new Blob(o,{type:n?"video/webm;codecs=h264,opus":"audio/webm;codecs=h264,opus"}),t=URL.createObjectURL(e),i=new Date().toISOString().replace(/[:.]/g,"-"),a=document.createElement("a");a.style.display="none",a.href=t,a.download="output-".concat(i,".webm"),document.body.appendChild(a),a.click(),document.body.removeChild(a)},t.start(),{stop:()=>{t.stop(),a.getTracks().forEach(e=>{e.stop()})}}}n.d(t,{$7:function(){return o},Sq:function(){return d},W_:function(){return r},X3:function(){return c},zZ:function(){return s}}),i=window.SpeechRecognition||window.webkitSpeechRecognition,window.SpeechGrammarList||window.webkitSpeechGrammarList,window.SpeechRecognitionEvent||window.webkitSpeechRecognitionEvent,window.SpeechSynthesisUtterance,a=window.speechSynthesis}},function(e){e.O(0,[925,486,972,689,971,117,744],function(){return e(e.s=4354)}),_N_E=e.O()}]);