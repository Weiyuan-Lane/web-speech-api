(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{5464:function(e,t,n){Promise.resolve().then(n.bind(n,5957))},5957:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return C}});var i=n(7437),a=n(807),d=n(2265),o=n(5301),s=n(6147),r=n(4013),l=n(8350),c=n(7571),u=n(9262),h=n(5389),p=n(7404),f=n(7208),x=n(6956),m=n(6137),w=n(5002),g=n(1586),j=n(5841),S=n(8444),v=n(8826),b=n(5233),y=n(7572),k=n(7648);function z(e){return(0,i.jsx)(v.Z,{...e})}function C(){let[e,t]=(0,d.useState)(!1),[n,v]=(0,d.useState)(""),[C,R]=(0,d.useState)(0),[Z,_]=(0,d.useState)(!1),[T,D]=(0,d.useState)();return(0,d.useEffect)(()=>()=>{T&&T.stop()},[T]),(0,i.jsx)("div",{children:(0,i.jsxs)("main",{children:[(0,i.jsx)(o.default,{sx:{mx:"auto",paddingTop:"25px",paddingLeft:"10px",paddingRight:"10px",width:"100%","@media (min-width: 769px)":{width:"80%"},"@media (min-width: 1025px)":{width:"60%"},"@media (min-width: 1201px)":{width:"40%"}},children:(0,i.jsxs)(s.default,{container:!0,rowSpacing:1,children:[(0,i.jsx)(s.default,{size:12,children:(0,i.jsx)(r.default,{startIcon:(0,i.jsx)(y.Z,{}),children:(0,i.jsx)(k.default,{href:"/",children:"Home"})})}),(0,i.jsx)(s.default,{size:12,children:(0,i.jsx)(l.default,{style:{paddingTop:"30px",paddingBottom:"30px"},children:(0,i.jsx)(c.default,{label:"Speech Recognition"})})}),(0,i.jsx)(s.default,{size:12,children:(0,i.jsx)(u.Z,{title:"Click, and then say something!",children:(0,i.jsx)(r.default,{variant:"contained",fullWidth:!0,startIcon:(0,i.jsx)(b.Z,{}),onClick:()=>{let e=!1;t(!0);let n=(n,i)=>{e=!0,v(n),R(i),t(!1)},i=()=>{e?D(void 0):(D((0,a.$7)(n,i)),_(!0))};D((0,a.$7)(n,i))},disabled:e,children:"Start Speech Recognition"})})}),(0,i.jsx)(s.default,{size:12,children:(0,i.jsx)(l.default,{style:{paddingTop:"30px",paddingBottom:"30px"},children:(0,i.jsx)(c.default,{label:"Output"})})}),e&&(0,i.jsxs)(s.default,{container:!0,size:12,spacing:1,children:[(0,i.jsx)(s.default,{size:6,container:!0,justifyContent:"flex-end",children:(0,i.jsx)(h.Z,{})}),(0,i.jsx)(s.default,{size:6,container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",children:"Say something!"})]}),!e&&(0,i.jsxs)(s.default,{container:!0,size:12,spacing:2,children:[(0,i.jsx)(s.default,{size:6,children:(0,i.jsx)(p.Z,{fullWidth:!0,label:"Detected Text",value:n,slotProps:{input:{readOnly:!0}}})}),(0,i.jsx)(s.default,{size:6,children:(0,i.jsx)(p.Z,{fullWidth:!0,value:C,label:"Confidence",slotProps:{input:{readOnly:!0}}})})]}),!e&&n&&(0,i.jsx)(s.default,{container:!0,size:12,children:(0,i.jsx)(r.default,{fullWidth:!0,variant:"outlined",children:(0,i.jsx)(k.default,{href:{pathname:"/detect-sound/count",query:{q:n}},children:"Try our counting function"})})}),(0,i.jsx)(s.default,{size:12,children:(0,i.jsx)(l.default,{style:{paddingTop:"30px",paddingBottom:"30px"},children:(0,i.jsx)(c.default,{label:"Disclaimer"})})}),(0,i.jsx)(s.default,{size:12,children:(0,i.jsxs)(f.default,{children:[(0,i.jsx)(x.default,{children:(0,i.jsx)(m.default,{children:(0,i.jsx)(w.default,{variant:"body2",sx:{color:"text.secondary"},children:"Not all browsers might be supported. See the following image taken on 6th Oct 2024, where some browsers are not supported."})})}),(0,i.jsx)(g.Z,{children:(0,i.jsx)(r.default,{children:(0,i.jsx)(k.default,{href:"https://caniuse.com/mdn-api_speechrecognitionevent",target:"_blank",children:"Supported browsers"})})}),(0,i.jsx)(j.Z,{src:"/web-speech-api/_next/static/media/supported-browsers-06-10-2024.d3614604.png",component:"img",height:"50"})]})})]})}),(0,i.jsx)(S.Z,{open:Z,onClose:()=>{_(!1)},TransitionComponent:z,message:"Speech not recognised. Try again!",autoHideDuration:1200},z.name)]})})}},807:function(e,t,n){"use strict";let i,a;function d(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=new i;return a.continuous=n,a.interimResults=!1,a.maxAlternatives=1,a.onresult=t=>{let n=t.results.length-1,{transcript:i,confidence:a}=t.results[n][0];e(i,a)},a.onspeechend=()=>{t()},a.start(),a}function o(){return void 0===a?[]:Array.from(new Set(a.getVoices().map(e=>e.lang)))}function s(e){return void 0===a?[]:Array.from(new Set(a.getVoices().filter(t=>t.lang===e).map(e=>e.name)))}function r(e){let t=function(e){let{text:t,language:n,voice:i,pitch:d,rate:o,volume:s}=e,r=new SpeechSynthesisUtterance(t);r.pitch=d,r.rate=o,r.volume=s;let l=a.getVoices().find(e=>e.lang===n&&e.name===i);return l&&(r.voice=l),r}(e);a.speak(t)}async function l(e){let t,{video:n=!1,systemMedia:i=!0}=e;console.log("video: "+n,"systemMedia: "+i);let a=i?await navigator.mediaDevices.getDisplayMedia({audio:!0,video:!!n||void 0}):await navigator.mediaDevices.getUserMedia({audio:!0,video:!!n||void 0}),d=[];if(n)t=new MediaRecorder(a);else{let e=new window.AudioContext,n=e.createMediaStreamSource(a),i=e.createMediaStreamDestination();n.connect(i),t=new MediaRecorder(i.stream)}return t.ondataavailable=e=>{d.push(e.data)},t.onstop=()=>{let e=new Blob(d,{type:n?"video/webm;codecs=h264,opus":"audio/webm;codecs=h264,opus"}),t=URL.createObjectURL(e),i=new Date().toISOString().replace(/[:.]/g,"-"),a=document.createElement("a");a.style.display="none",a.href=t,a.download="output-".concat(i,".webm"),document.body.appendChild(a),a.click(),document.body.removeChild(a)},t.start(),{stop:()=>{t.stop(),a.getTracks().forEach(e=>{e.stop()})}}}n.d(t,{$7:function(){return d},Sq:function(){return s},W_:function(){return r},X3:function(){return l},zZ:function(){return o}}),i=window.SpeechRecognition||window.webkitSpeechRecognition,window.SpeechGrammarList||window.webkitSpeechGrammarList,window.SpeechRecognitionEvent||window.webkitSpeechRecognitionEvent,window.SpeechSynthesisUtterance,a=window.speechSynthesis}},function(e){e.O(0,[925,486,972,262,689,111,971,117,744],function(){return e(e.s=5464)}),_N_E=e.O()}]);